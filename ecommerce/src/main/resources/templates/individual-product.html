<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${productRequest.productName}">Product Details</title>
    <th:block th:insert="header-links :: headLinks"></th:block>
    <style>
        /* Control image height */
        .product-img {
            max-height: 400px;   /* Adjust as per your design */
            object-fit: contain; /* Keeps full image visible */
        }
        .product-card {
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

        .product-title {
            font-size: 1.8rem;
            font-weight: 600;
        }

        .product-price {
            font-size: 1.6rem;
            color: #28a745;
            font-weight: 700;
        }

        .carousel-control-prev,
        .carousel-control-next {
            width: 8%; /* default 15% – shrink so they hug images */
        }

        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            background-size: 80%, 80%; /* smaller icons */
            filter: invert(1); /* make visible on light bg */
        }


        .brand-badge {
            font-size: 0.9rem;
            background: #f8f9fa;
            border: 1px solid #ddd;
            padding: 5px 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: inline-block;
        }

        .product-description {
            white-space: pre-line;
            line-height: 1.6;
            font-size: 1rem;
        }

        .action-buttons a {
            min-width: 140px;
        }
    </style>
</head>
<body>
<th:block th:insert="navbar :: myNav"></th:block>
<!--Display Msgs-->
<div th:if="${successMsg}" class="alert alert-success text-center w-50 mx-auto my-2" role="alert">
    <th:block th:text="${successMsg}"></th:block>
</div>
<div th:if="${errorMsg}" class="alert alert-danger text-center w-50 mx-auto my-2" role="alert">
    <th:block th:text="${errorMsg}"></th:block>
</div>

<div class="container my-5">

    <!-- Product Image Carousel -->
    <div class="row mb-5">
        <div class="col-md-8 mx-auto">
            <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div th:each="img,iterStat : ${productRequest.imageUrls}"
                         class="carousel-item"
                         th:classappend="${iterStat.index == 0} ? ' active'">
                        <img th:src="${img}" class="d-block w-100 rounded product-img" alt="Product Image">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel"
                        data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#productCarousel"
                        data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </button>
            </div>
        </div>
    </div>


    <!-- Thumbnail Gallery -->
    <div class="row mb-5">
        <h4>More Images</h4>
        <div class="d-flex flex-wrap gap-3">
            <img th:each="img : ${productRequest.imageUrls}" th:src="${img}"
                 class="img-thumbnail rounded" style="width:120px; height:120px; object-fit:cover;">
        </div>
    </div>

    <!-- Product Details Section -->
    <div class="row">
        <div class="col-12">
            <div class="product-card">
                <span class="brand-badge"  th:text="'Brand: '+${productRequest.brand}"></span>
                <h2 class="product-title" th:text="${productRequest.productName}">Product Name</h2>
                <p class="product-price">
                    ₹ <span th:text="${productRequest.productPrice}">0.00</span>
                </p>
                <p class="product-description" th:text="${productRequest.productDescription}">
                    This is the description of the product. It can be multiple lines and well formatted.
                </p>

                <!-- Admin Actions -->
                <div class="mt-4 action-buttons d-flex gap-3">
                    <a th:href="@{'/admin/product/' + ${productRequest.productId}+'/edit'}"
                       class="btn btn-warning btn-lg">
                        <i class="fa-solid fa-pen-to-square"></i> Update
                    </a>

                    <a th:href="@{'/admin/product/delete/' + ${productRequest.productId}}"
                       class="btn btn-danger btn-lg"
                       onclick="return confirm('Are you sure you want to delete this product?');">
                        <i class="fa-solid fa-trash"></i> Delete
                    </a>
                </div>

                <!-- Customer Actions -->
                <div class="mt-4">
                    <button class="btn btn-primary btn-lg">
                        <i class="fa-solid fa-cart-shopping"></i> Add to Cart
                    </button>
                    <button class="btn btn-outline-secondary btn-lg ms-2">
                        <i class="fa-solid fa-heart"></i> Wishlist
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<th:block th:insert="body-links :: bodyLinks"></th:block>
</body>
</html>
